#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const voislab_website_stack_1 = require("../lib/voislab-website-stack");
const app = new cdk.App();
// Get environment from context
const environment = app.node.tryGetContext('environment') || 'dev';
// Get optional configuration from context
const domainName = app.node.tryGetContext('domainName');
const hostedZoneId = app.node.tryGetContext('hostedZoneId');
const githubRepository = app.node.tryGetContext('githubRepository');
// Get GitHub access token from environment variable for security
const githubAccessToken = process.env.GITHUB_ACCESS_TOKEN;
new voislab_website_stack_1.VoislabWebsiteStack(app, `VoislabWebsite-${environment}`, {
    environment,
    domainName,
    hostedZoneId,
    githubRepository,
    githubAccessToken,
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: process.env.CDK_DEFAULT_REGION,
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mcmFzdHJ1Y3R1cmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmZyYXN0cnVjdHVyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLHdFQUFtRTtBQUVuRSxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUUxQiwrQkFBK0I7QUFDL0IsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLElBQUksS0FBSyxDQUFDO0FBRW5FLDBDQUEwQztBQUMxQyxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUN4RCxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUM1RCxNQUFNLGdCQUFnQixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFFcEUsaUVBQWlFO0FBQ2pFLE1BQU0saUJBQWlCLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQztBQUUxRCxJQUFJLDJDQUFtQixDQUFDLEdBQUcsRUFBRSxrQkFBa0IsV0FBVyxFQUFFLEVBQUU7SUFDNUQsV0FBVztJQUNYLFVBQVU7SUFDVixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixHQUFHLEVBQUU7UUFDSCxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7UUFDeEMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCO0tBQ3ZDO0NBQ0YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IFZvaXNsYWJXZWJzaXRlU3RhY2sgfSBmcm9tICcuLi9saWIvdm9pc2xhYi13ZWJzaXRlLXN0YWNrJztcblxuY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcblxuLy8gR2V0IGVudmlyb25tZW50IGZyb20gY29udGV4dFxuY29uc3QgZW52aXJvbm1lbnQgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdlbnZpcm9ubWVudCcpIHx8ICdkZXYnO1xuXG4vLyBHZXQgb3B0aW9uYWwgY29uZmlndXJhdGlvbiBmcm9tIGNvbnRleHRcbmNvbnN0IGRvbWFpbk5hbWUgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdkb21haW5OYW1lJyk7XG5jb25zdCBob3N0ZWRab25lSWQgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdob3N0ZWRab25lSWQnKTtcbmNvbnN0IGdpdGh1YlJlcG9zaXRvcnkgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdnaXRodWJSZXBvc2l0b3J5Jyk7XG5cbi8vIEdldCBHaXRIdWIgYWNjZXNzIHRva2VuIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgZm9yIHNlY3VyaXR5XG5jb25zdCBnaXRodWJBY2Nlc3NUb2tlbiA9IHByb2Nlc3MuZW52LkdJVEhVQl9BQ0NFU1NfVE9LRU47XG5cbm5ldyBWb2lzbGFiV2Vic2l0ZVN0YWNrKGFwcCwgYFZvaXNsYWJXZWJzaXRlLSR7ZW52aXJvbm1lbnR9YCwge1xuICBlbnZpcm9ubWVudCxcbiAgZG9tYWluTmFtZSxcbiAgaG9zdGVkWm9uZUlkLFxuICBnaXRodWJSZXBvc2l0b3J5LFxuICBnaXRodWJBY2Nlc3NUb2tlbixcbiAgZW52OiB7XG4gICAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCxcbiAgICByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTixcbiAgfSxcbn0pOyJdfQ==